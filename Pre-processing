library(quanteda)
library(quanteda.textstats)
library(quanteda.textplots)

# Download reviews
df = read.csv("C:/Users/tobyb/Documents/Uni_Links/Dissertation/AppStore/Dataset1M_2018/metadata1M/metadata1M.csv")

# Create corpus
corp = corpus(df$content)

# Add id
corp$id = df$review_id

# Change units of text to sentences (Do we want to do this?)
# corp = corpus_reshape(corp, to = "sentences")

# Remove punctuation, symbols, numbers, urls and seperators
corp = tokens(corp, remove_punct = T, remove_symbols = T, remove_numbers = T, remove_url = T, remove_separators = T)

# Remove stopwords
corp = tokens_remove(corp, pattern = stopwords("en"))

# Create document feature matrix
dfmat = dfm(corp)

# Analyse frequency of features
freq = textstat_frequency(dfmat)
